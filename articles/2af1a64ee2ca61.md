---
title: "wslã§React Nativeé–‹ç™ºç’°å¢ƒã‚’æ•´ãˆã‚‹"
emoji: "ğŸš€"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["reactnative", "wsl2", "wsl", "android"]
published: true
---

## æ‰‹é †

ä¸»ã«ä»¥ä¸‹ã®æ‰‹é †

1. wslã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
2. android studioã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
3. wslã§å„ç¨®è¨­å®š
4. React Nativeç«‹ã¡ä¸Šã’

## wslã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

å…¬å¼ãŒåœ§å€’çš„ã«ã‚ã‹ã‚Šã‚„ã™ã„ã®ã§ã€å…¬å¼ã«å¾“ã†
https://learn.microsoft.com/ja-jp/windows/wsl/install

## android studioã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

wingetã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash:powershell
~ $ winget install Google.AndroidStudio
```

### Android SDK

```Appearance & Behavior > System Settings > Android SDK```  
- Android SDK Location: ```%userprofile%\Appdata\Local\Android\Sdk```ã«ã™ã‚‹
- SDK Platforms ã‚¿ãƒ–ã§ä»¥ä¸‹ã‚’ãƒã‚§ãƒƒã‚¯
  - Android 13.0 (Tiramisu) ã«ãƒã‚§ãƒƒã‚¯
- SDK Tools ã‚¿ãƒ– ã§ä»¥ä¸‹ã‚’ãƒã‚§ãƒƒã‚¯
  - Android Sdk Build-Tools 34-rc2
  - Android Sdk Command-line Tools
  - Android Emulator
  - Android Sdk Platform-Tools
  - Intel x86 Emulator Accelerator (HAXM installer)

### ã‚·ã‚¹ãƒ†ãƒ ã®ç’°å¢ƒå¤‰æ•°

pathã«```%username%\AppData\Local\Android\Sdk\platform-tools```ã‚’è¿½åŠ 

### AVDã®ä½œæˆ
Tiramisuã§ä½œæˆ
https://developer.android.com/studio/run/managing-avds?hl=ja

## wslã§å„ç¨®è¨­å®š

### JDK
ä¸‹è¨˜ã‚’å‚è€ƒã«javaã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
https://learn.microsoft.com/ja-jp/java/openjdk/install#install-on-ubuntu

### unzip ã‚³ãƒãƒ³ãƒ‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash:bash
~ $ sudo apt install unzip
```

### Command line tools ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

linuxã‚’å–å¾—
https://developer.android.com/studio#command-line-tools-only

```bash:bash
~ $ wget https://dl.google.com/android/repository/commandlinetools-linux-9477386_latest.zip
```

### sdkmanager ã®è¨­å®š

```bash:bash
# Android ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨ã—ã¦è§£å‡ã™ã‚‹
~ $ unzip  commandlinetools-linux-9477386_latest.zip -d Android

# zipå‰Šé™¤
~ $ rm -rf  commandlinetools-linux-9477386_latest.zip

~ $ cd Android
# ./sdkmanager --installã§ãã‚‹ã‚ˆã†ã« ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆå¤‰æ›´
~/Android $ mv cmdline-tools latest
~/Android $ mkdir cmdline-tools
~/Android $ mv latest cmdline-tools

~/Android $ cd cmdline-tools/latest/bin

# ã„ã‚ã„ã‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
~/A/c/l/bin $ ./sdkmanager --install "platform-tools" "platforms;android-33" "build-tools;33.0.0"

# ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ
~/A/c/l/bin $ ./sdkmanager --update

~/A/c/l/bin $ cd ~/Android

# sdkmanager ã«ã‚ˆã£ã¦ãƒ•ã‚©ãƒ«ãƒ€ãŒã§ãã¦ã„ã‚‹
~/Android $ ls
build-tools  cmdline-tools  emulator  licenses  patcher  platform-tools  platforms  tools

~/Android $ cd platform-tools

# platform-tools ã®ä¸­ã« adb ã‚³ãƒãƒ³ãƒ‰ãŒã‚ã‚‹
~/A/platform-tools $ ls adb
adb

# adb ã‚’ç„¡åŠ¹åŒ–ã™ã‚‹
~/A/platform-tools $ mv adb adb2

# ä»£ã‚ã‚Šã« Windows å´ã® adb ã‚’ä½¿ã†ã‚ˆã†ã«ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã‚’è²¼ã‚‹
~/A/platform-tools $ ln -s /mnt/c/Users/<username>/AppData/Local/Android/Sdk/platform-tools/adb.exe adb

```

### PATHè¨­å®š

```bash:.bashrc
export ANDROID_HOME=$HOME/Android
export PATH=$PATH:$ANDROID_HOME/emulator
export PATH=$PATH:$ANDROID_HOME/tools
export PATH=$PATH:$ANDROID_HOME/tools/bin
export PATH=$PATH:$ANDROID_HOME/platform-tools
```

## React Nativeç«‹ã¡ä¸Šã’

### watchmanã‚’wslã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
https://facebook.github.io/watchman/docs/install#ubuntu-prebuilt-debs

### Android Studio ã‹ã‚‰ AVD ã‚’èµ·å‹•

### PowerShell ã§ adb ã‚³ãƒãƒ³ãƒ‰

```bash:powershell
~ $ adb kill-server
~ $ adb -a nodaemon server start
```

### ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½œæˆ

```bash:bash
~ $ npx react-native@latest init AwesomeProject
~ $ cd AwesomeProject
# Metro èµ·å‹•
~ AwesomeProject $ npx react-native start --host 127.0.0.1
# androidèµ·å‹•
~ AwesomeProject $ npx react-native run-android --variant=debug --deviceId emulator-5554
```

ãªã‚“ã¨ã‹èµ·å‹•ç¢ºèªã§ããŸã€‚ã€‚

## å‚è€ƒ

> [WSL ã‹ã‚‰ React Native ã‚’ Android Studio ã§å‹•ã‹ã™](https://midorimici.com/posts/react-native-wsl)
